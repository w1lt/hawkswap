{% extends 'base.html' %} {% block title %}Saved | HawkSwap{% endblock %} {%
block content %}
<h2>Edit Listing</h2>
<form action="/listing/{{ listing.id }}/edit" method="post" class="edit-form" enctype="multipart/form-data">
  <label for="name">Listing Name:</label>
  <input
    type="text"
    id="name"
    name="name"
    value="{{ listing.name }}"
    required
  />
  <label for="description">Description:</label>
  <textarea id="description" name="description">
{{ listing.description }}</textarea
  >
  <label for="price">Price:</label>
  <input
    type="number"
    id="price"
    name="price"
    step="0.01"
    value="{{ listing.price }}"
    required
  />
  <label for="image">Image:</label>
  <input type="file" name="image" id="image" /> 
  <button type="submit">Save Changes

    <i class="fas fa-save"></i>
  </button>
</form>

<br />
<div class="edit-other-buttons">
  <form action="/listing/{{ listing.id }}/mark-as-sold" method="post">
    <button type="submit" >
      {% if listing.is_sold %} Mark as Available 
      <i class="fas fa-check"></i> {
      {% else %} Mark as Sold
      <i class="fas fa-check"></i>
      {%
      endif %}
    </button>
  </form>
  <form action="/listing/{{ listing.id }}/delete" method="post" onsubmit="return confirm('Are you sure you want to delete this listing? This will remove all chat history and is not recommended unless you have not sold the item and no longer want to sell it.');">
    <button type="submit" >Delete Listing 
      <i class="fas fa-trash-alt"></i>
    </button>
  </form>
  </form>
</div>
{% endblock %}
